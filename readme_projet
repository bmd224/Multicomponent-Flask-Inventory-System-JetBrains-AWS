# Multicomponent Flask Inventory System (JetBrains & AWS)
J'ai réalisé ce projet dans le cadre du cours **Building a multicomponent Flask app** (JetBrains Academy en partenariat avec AWS).  
L’objectif est de faire une application de gestion d’inventaire composée de plusieurs services Flask, conteneurisés avec Docker et orchestrés via **docker-compose**.
## Objectifs du projet
- Créer une **API d’inventaire** (`invsys`) exposant des opérations CRUD.
- Ajouter une **Gateway** (`gateway`) comme point d’entrée unique.
- Mettre en place un **DAL** basé sur `shelve` pour la persistance.
- Conteneuriser l’application avec **Docker**.
- Déployer le projet sur **AWS** (ECR + ECS).
## Architecture
L’application est composée de deux services:
- **`invsys`** : API Flask qui gère les items  
  - CRUD sur `/items` et `/items/<id>`  
  - Validation avec **Marshmallow**  
  - Stockage via **shelve**

- **`gateway`** : API Gateway  
  - Routes `/items` et `/items/<id>`  
  - Redirige les requêtes vers `invsys`

## Rôle de docker-compose
Le fichier **docker-compose.yaml** lance et connecte automatiquement les deux services.  
Il construit les images, crée les conteneurs et met en place un réseau interne pour qu’ils puissent communiquer ensemble.
services:
  gateway:
    build: gateway
    container_name: flask-app-gateway
    image: flask-app-gateway-img
    ports:
      - "5001:5001"

  invsys:
    build: invsys
    container_name: flask-app-invsys
    image: flask-app-invsys-img
## Déploiement dans AWS
J’ai déployé l’intégralité de l’application dans AWS en utilisant des images Docker stockées dans Amazon ECR et exécutées via Amazon ECS.  
Le déploiement met automatiquement en place toutes les ressources nécessaires :
- **Amazon ECS** (exécution des conteneurs `gateway` et `invsys`)
- **Amazon ECR** (stockage des images Docker)
- **Application Load Balancer** (exposition publique du service `gateway`)
- **VPC + Subnets + Security Groups** (réseau et sécurité)
- **CloudWatch Logs** (monitoring, logs et suivi des conteneurs)
Les conteneurs ont été configurés pour communiquer entre eux via le réseau interne ECS, où le service `gateway` appelle `invsys` directement par son nom de service.  
Les variables d'environnement, secrets et endpoints AWS ont été ajoutés dans la configuration du service afin de permettre un fonctionnement autonome dans le cloud.
L’environnement AWS pour ce projet est entièrement fonctionnel. Les communications entre services (gateway, invsys), l’exécution des conteneurs, et l’exposition publique via le Load Balancer ont été validés
